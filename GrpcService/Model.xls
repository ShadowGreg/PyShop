Emission															начальная логика распределения 			
30																		
																		
																		
UserProfile			сумма очков	6800				остаток			остаток							
name	amount	rating		баллы распределения			первое распределение	27		второе	2	на больший рейтинг						
boris	6	5000		0,735294118			1		19,85294118	19		2						
maria	4	1000		0,147058824			1		3,970588235	3								
oleg	4	800		0,117647059			1		3,176470588	3								
																		
Emission																		
10																		
																		
																		
UserProfile			сумма очков	6800				остаток			остаток							
name	amount	rating		баллы распределения			первое распределение	7		второе	1	на больший рейтинг						
boris	6	5000		0,735294118			1		5,147058824	5		1						
maria	4	1000		0,147058824			1		1,029411765	1								
oleg	4	800		0,117647059			1		0,823529412	0								
																		
Emission																		
9																		принятая логика разпределения
																		
																		
UserProfile			сумма очков	6800				остаток			остаток							
name	amount	rating		баллы распределения			первое распределение	6		второе	0	на больший рейтинг						
boris	6	5000		0,735294118			1		4,411764706	4		0						
maria	4	1000		0,147058824			1		0,882352941	1								
oleg	4	800		0,117647059			1		0,705882353	1								
									Добавляем условие что если вес меньше 1 то он округляется в большую сторону									
																		
Emission																		
7																		
																		
																		
UserProfile			сумма очков	6800				остаток			остаток							
name	amount	rating		баллы распределения			первое распределение	4		второе	0	на больший рейтинг						
boris	6	5000		0,735294118			1		2,941176471	2		0						
maria	4	1000		0,147058824			1		0,588235294	1								
oleg	4	800		0,117647059			1		0,470588235	1								
																		
																		
																		
Emission																		
40																		
																		
																		
UserProfile			сумма очков	6800				остаток			остаток							
name	amount	rating		баллы распределения			первое распределение	37		второе	1	на больший рейтинг						
boris	6	5000		0,735294118			1		27,20588235	27		1						
maria	4	1000		0,147058824			1		5,441176471	5								
oleg	4	800		0,117647059			1		4,352941176	4								
																		
																		
